# CODEOWNERS Template for Monorepo
# https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners
#
# Rules:
# 1. Later patterns take precedence
# 2. Each file has exactly ONE set of owners
# 3. All owners must approve (if multiple listed)
# 4. Use teams over individuals when possible

# ============================================
# DEFAULT OWNER (fallback for unmatched paths)
# ============================================
* @org/platform-team

# ============================================
# APPLICATIONS
# ============================================
/apps/web/              @org/web-team
/apps/mobile/           @org/mobile-team
/apps/admin/            @org/admin-team
# Add more apps as needed

# ============================================
# PACKAGES / LIBRARIES
# ============================================
/packages/ui/           @org/ui-team
/packages/utils/        @org/platform-team
/packages/types/        @org/platform-team
/packages/config/       @org/platform-team
/packages/auth/         @org/auth-team
/packages/api-client/   @org/api-team
# Add more packages as needed

# ============================================
# SERVICES (Backend)
# ============================================
/services/api/          @org/api-team
/services/workers/      @org/backend-team
/services/gateway/      @org/platform-team
# Add more services as needed

# ============================================
# DOMAINS (if using domain-based structure)
# ============================================
# /domains/auth/        @org/auth-team
# /domains/content/     @org/content-team
# /domains/billing/     @org/billing-team

# ============================================
# INFRASTRUCTURE & PLATFORM
# ============================================
/.github/               @org/platform-team
/infrastructure/        @org/platform-team @org/sre-team
/terraform/             @org/sre-team
/scripts/               @org/platform-team

# ============================================
# BUILD & CONFIGURATION
# ============================================
turbo.json              @org/platform-team
pnpm-workspace.yaml     @org/platform-team
tsconfig.base.json      @org/platform-team
.eslintrc.js            @org/platform-team
.prettierrc             @org/platform-team

# Lock files (platform approval needed)
pnpm-lock.yaml          @org/platform-team
package-lock.json       @org/platform-team

# ============================================
# SENSITIVE PATHS (Multiple reviewers)
# ============================================
# Security-sensitive code requires additional review
/packages/auth/         @org/auth-team @org/security-leads
/services/payments/     @org/payments-team @org/security-leads
/packages/crypto/       @org/platform-team @org/security-leads

# Database migrations require DBA review
/migrations/            @org/backend-team @org/dba-team

# ============================================
# AI & AUTOMATION
# ============================================
/.claude/               @org/ai-team @org/platform-team
/ai/                    @org/ai-team

# ============================================
# DOCUMENTATION
# ============================================
/docs/                  @org/docs-team
*.md                    @org/docs-team
README.md               @org/platform-team  # Root README is platform owned

# ============================================
# CI/CD (Changes need platform review)
# ============================================
/.github/workflows/     @org/platform-team
/Dockerfile*            @org/platform-team @org/sre-team
/docker-compose*.yml    @org/platform-team
/.gitlab-ci.yml         @org/platform-team

# ============================================
# NOTES
# ============================================
# - Replace @org with your GitHub organization
# - Create teams in GitHub before using this file
# - Test with: gh api repos/{owner}/{repo}/codeowners/errors
# - CODEOWNERS is case-sensitive
# - Patterns match from repository root
